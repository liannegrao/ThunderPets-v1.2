<main>
  <!-- Hero Section with Carousel -->
  <section class="hero">
    <div class="carousel-fade">
      <div
        *ngFor="let slide of carouselSlides; let i = index"
        class="slide"
        [ngClass]="{'active': i === currentSlideIndex}"
        [style.background-image]="'url(' + slide + ')'"
      ></div>
    </div>
    <div class="container">
      <h1>Transforme Vidas,<br>Encontre Alegria Duradoura.</h1>
      <p>Na ThunderPets, acreditamos que a adoÃ§Ã£o permanente de um animal Ã© um tratamento natural poderoso contra a depressÃ£o. Conectamos pessoas a parceiros terapÃªuticos que combatem a solidÃ£o e restauram a alegria de viver.</p>
      <a href="#adote" class="button button-primary">Quero Adotar e Transformar Minha Vida!</a>
    </div>
  </section>

  <!-- Mission Section -->
  <section class="section container">
    <div id="missao" class="mission section-highlight">
      <div class="section-header">
        <h2>Nossa MissÃ£o</h2>
        <p>Promover bem-estar emocional atravÃ©s da conexÃ£o terapÃªutica entre humanos e animais.</p>
      </div>
      <div class="mission-grid">
        <div class="mission-item">
          <div class="icon-wrapper" style="background-color: var(--color-teal-100); color: var(--color-teal-600);">
            <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm4 14-4-2v-6l4 4v4z"></path>
            </svg>
          </div>
          <h3>Terapia e Apoio Emocional</h3>
          <p>Utilizamos animais como co-terapeutas naturais para ajudar pessoas com depressÃ£o, ansiedade e solidÃ£o atravÃ©s de conexÃµes significativas.</p>
        </div>
        <div class="mission-item">
          <div class="icon-wrapper" style="background-color: var(--color-orange-100); color: var(--color-orange-600);">
            <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
            </svg>
          </div>
          <h3>Cuidados TerapÃªuticos e Bem-estar</h3>
          <p>Fornecemos ambiente seguro e cuidados especializados para que tanto pessoas quanto animais encontrem paz emocional e recuperaÃ§Ã£o.</p>
        </div>
        <div class="mission-item">
          <div class="icon-wrapper" style="background-color: var(--color-sky-100); color: var(--color-sky-600);">
            <svg style="width: 2rem; height: 2rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
            </svg>
          </div>
          <h3>ConexÃ£o Emocional Duradoura</h3>
          <p>Criamos laÃ§os terapÃªuticos significativos que promovem felicidade sustentÃ¡vel e bem-estar mental para ambas as partes.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Pet Matching Section -->
  <section class="match-section container">
    <div class="match-box">
      <h2>ğŸ’™ Encontre seu Terapeuta Emocional</h2>
      <p>Descreva suas necessidades emocionais e encontraremos o companheiro terapÃªutico ideal para sua jornada de cura!</p>

      <form class="match-form" [formGroup]="matchingForm" (ngSubmit)="onMatchSubmit()">
        <label for="situacao">Qual sua situaÃ§Ã£o emocional atual?</label>
        <select id="situacao" formControlName="situacao" required>
          <option value="">Selecione...</option>
          <option value="depressao">Luto ou DepressÃ£o</option>
          <option value="ansiedade">Ansiedade ou Stress</option>
          <option value="solidao">SolidÃ£o e Isolamento</option>
          <option value="mudanca">Momentos de MudanÃ§a</option>
          <option value="terapia">Suporte TerapÃªutico Adicional</option>
        </select>

        <label for="energia">Que tipo de energia terapÃªutica vocÃª precisa?</label>
        <select id="energia" formControlName="energia" required>
          <option value="">Selecione...</option>
          <option value="calmo-caseiro">Calma e Serenidade</option>
          <option value="moderado">Energia Equilibrada</option>
          <option value="ativo-aventurado">Energia Viva e Motivadora</option>
        </select>

        <label>Sua disponibilidade para interaÃ§Ã£o:</label>
        <div class="companheiros-options">
          <label class="checkbox-label" *ngFor="let option of disponibilidadeOptions">
            <input
              type="checkbox"
              [formControlName]="option.value"
              [value]="option.value"
            >
            <span class="checkmark">{{ option.emoji }}</span>
            {{ option.label }}
          </label>
        </div>

        <button
          type="submit"
          class="button-primary"
          [disabled]="matchingForm.invalid || isMatching"
          id="matchBtn"
        >
          <span *ngIf="!isMatching">ğŸ’š Encontrar meu Terapeuta Emocional!</span>
          <span *ngIf="isMatching">ğŸ” Buscando terapeuta...</span>
        </button>
      </form>

      <!-- Results Section -->
      <div *ngIf="showResults" id="matching-results" style="margin-top: 2rem;">
        <h3 style="margin-bottom: 1rem; color: #14b8a6;">ğŸ’ Terapeutas Emocionais CompatÃ­veis!</h3>
        <div id="results-container">
          <div *ngFor="let pet of matchedPets" class="pet-result-card" style="border: 2px solid #e5e7eb; padding: 1rem; border-radius: 12px; background: white; margin-bottom: 1rem; display: flex; gap: 1rem;">
            <img [src]="pet.foto" [alt]="'Foto de ' + pet.nome" style="width: 120px; height: 120px; object-fit: cover; border-radius: 8px;">
            <div class="pet-result-content" style="flex: 1;">
              <h4 style="margin: 0 0 0.5rem 0; color: #1f2937;">{{ pet.nome }}</h4>
              <p style="margin: 0 0 0.25rem 0; font-weight: 600; color: #059669;">{{ pet.beneficioEmocional || 'Companheiro TerapÃªutico' }}</p>
              <p style="margin: 0 0 0.25rem 0; font-size: 0.9rem; color: #6b7280;">{{ pet.raca }} â€¢ {{ pet.idade }} meses â€¢ {{ pet.porte }}</p>
              <p style="margin: 0 0 1rem 0; font-size: 0.9rem; color: #374151; line-height: 1.4;">
                {{ pet.personalidade }}
              </p>
              <button class="button button-secondary" (click)="openPetDetails(pet)" style="background: #14b8a6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer;">
                â¤ï¸ Conhecer {{ pet.nome }}
              </button>
            </div>
          </div>
          <div *ngIf="matchedPets.length === 0" style="text-align: center; padding: 3rem; background: #fef3c7; border-radius: 12px; border: 2px solid #f59e0b; margin-top: 2rem;">
            <p style="color: #92400e; font-weight: bold; font-size: 1.1rem; margin-bottom: 0.5rem;">
              ğŸ˜” Nenhum pet compatÃ­vel encontrado
            </p>
            <p style="color: #78350f; margin: 0;">
              Tente ajustar suas preferÃªncias ou entre em contato conosco para ajuda personalizada.
            </p>
          </div>
        </div>
        <div *ngIf="hasMoreResults" style="text-align: center; margin-top: 1.5rem;">
          <button
            id="showMoreResults"
            class="button button-primary"
            (click)="onShowMoreResults()"
            style="background: #f97316; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;"
          >
            Ver Mais OpÃ§Ãµes TerapÃªuticas
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Adoption Section -->
  <section id="adote" class="section container">
    <div class="section-header">
      <h2>DisponÃ­veis para AdoÃ§Ã£o</h2>
      <p>Cada animal aqui pode se tornar seu parceiro terapÃªutico permanente. A adoÃ§Ã£o Ã© um compromisso sÃ©rio que gera benefÃ­cios emocionais duradouros para ambos.</p>
    </div>
    <div class="pet-grid">
      <div *ngFor="let pet of showcasedPets" class="pet-card">
        <img [src]="pet.foto" [alt]="'Foto de ' + pet.nome">
        <div class="pet-card-content">
          <h3>{{ pet.nome }}</h3>
          <p><span style="font-weight: 600;">BenefÃ­cio Emocional:</span> {{ pet.beneficioEmocional || 'Companheiro TerapÃªutico' }}<br><span style="font-weight: 600;">Perfil:</span> {{ pet.porte }} â€¢ {{ pet.idade }} meses</p>
          <p>{{ pet.personalidade }}</p>
          <button class="button button-secondary" (click)="adoptPet(pet)">â¤ï¸ Quero Adotar {{ pet.nome }}</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="section container">
    <div id="depoimentos" class="testimonials section-highlight">
      <div class="section-header">
        <h2>TransformaÃ§Ãµes que Mudam Vidas</h2>
        <p>Veja como nossos companheiros terapÃªuticos trouxeram luz aos dias mais difÃ­ceis.</p>
      </div>
      <div class="testimonial-grid">
        <div class="testimonial-card">
          <p>"Estava em profunda depressÃ£o apÃ³s perder meu marido. O Luna me deu uma razÃ£o para acordar todos os dias. Seu amor incondicional e ronronar suave me ajudaram a reconstruir minha capacidade de amar. Hoje, me sinto pronta para viver novamente!"</p>
          <div class="testimonial-author">
            <img src="https://placehold.co/100x100/CBD5E0/333333?text=Ana+Maria" alt="Ana Maria">
            <div>
              <p class="author-name">Ana Maria Santos</p>
              <p class="author-info">Superou DepressÃ£o com Luna</p>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <p>"Ansiedade me consumia diariamente. O Thor, com sua alegria contagiante, me lembrou como sorrir novamente. Ele me acompanhou em consultas de terapia e atÃ© no trabalho. Hoje eu consigo controlar melhor minhas emoÃ§Ãµes!"</p>
          <div class="testimonial-author">
            <img src="https://placehold.co/100x100/EDF2F7/333333?text=Rafael" alt="Rafael">
            <div>
              <p class="author-name">Rafael Pedrosa</p>
              <p class="author-info">Venceu Ansiedade com Thor</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Help Section -->
  <section id="ajude" class="section container help-section">
    <h2>Como VocÃª Pode Ajudar</h2>
    <p>Existem vÃ¡rias formas de contribuir com a saÃºde emocional de pessoas e animais. Escolha a modalidade que melhor se adequa Ã s suas possibilidades.</p>
    <div class="help-buttons">
      <a href="/cadastrar-pet" class="button button-primary">ğŸ¾ Sou Doador: Cadastrar Pet</a>
      <router-link [routerLink]="['/doar']" class="button button-primary">ğŸ¤ Cuide Temporariamente</router-link>
      <router-link [routerLink]="['/voluntario']" class="button button-secondary">â­ Seja VoluntÃ¡rio TerapÃªutico</router-link>
    </div>
  </section>
</main>

<!-- Pet Details Modal -->
<div *ngIf="showPetModal && selectedPet" class="pet-modal-overlay" (click)="onBackdropClick($event)">
  <div class="pet-modal-content">
    <div class="pet-modal-header">
      <h2>ğŸ¾ {{ selectedPet.nome }}</h2>
      <button class="modal-close-btn" (click)="closePetModal()" aria-label="Fechar">âœ•</button>
    </div>

    <div class="pet-modal-body">
      <div class="pet-modal-main">
        <div class="pet-modal-image">
          <img [src]="selectedPet.foto" [alt]="'Foto de ' + selectedPet.nome" class="pet-large-image">
        </div>

        <div class="pet-modal-info">
          <div class="pet-info-grid">
            <div class="info-card">
              <h3>ğŸ• Dados BÃ¡sicos</h3>
              <p><strong>RaÃ§a:</strong> {{ selectedPet.raca }}</p>
              <p><strong>Idade:</strong> {{ getFormattedAge(selectedPet.idade) }}</p>
              <p><strong>Porte:</strong> {{ capitalize(selectedPet.porte) }}</p>
              <p><strong>Perfil:</strong> {{ capitalize(selectedPet.energia) }}</p>
            </div>

            <div class="info-card">
              <h3>ğŸ’š BenefÃ­cios TerapÃªuticos</h3>
              <p>{{ selectedPet.beneficioEmocional || 'Companheiro terapÃªutico de confianÃ§a e amor incondicional' }}</p>
              <div class="compat-score">
                <h4>Compatibilidade Emocional</h4>
                <div class="score-item">
                  <span>DepressÃ£o:</span>
                  <div class="score-bar">
                    <div class="score-fill" [style.width.%]="selectedPet.compatibilidadeScore.depressao"></div>
                  </div>
                  <span>{{ selectedPet.compatibilidadeScore.depressao }}%</span>
                </div>
                <div class="score-item">
                  <span>Ansiedade:</span>
                  <div class="score-bar">
                    <div class="score-fill" [style.width.%]="selectedPet.compatibilidadeScore.ansiedade"></div>
                  </div>
                  <span>{{ selectedPet.compatibilidadeScore.ansiedade }}%</span>
                </div>
                <div class="score-item">
                  <span>SolidÃ£o:</span>
                  <div class="score-bar">
                    <div class="score-fill" [style.width.%]="selectedPet.compatibilidadeScore.solidao"></div>
                  </div>
                  <span>{{ selectedPet.compatibilidadeScore.solidao }}%</span>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h3>â¤ï¸ Personalidade</h3>
              <p>{{ selectedPet.personalidade }}</p>
            </div>

            <div class="info-card">
              <h3>ğŸ¥ SaÃºde</h3>
              <p>{{ selectedPet.saude }}</p>
              <h4>Cuidados EspecÃ­ficos</h4>
              <p>{{ selectedPet.cuidados }}</p>
            </div>

            <div class="info-card full-width">
              <h3>ğŸ  Lar Ideal</h3>
              <p>{{ selectedPet.casaIdeal }}</p>
            </div>

            <div class="info-card full-width">
              <h3>ğŸ“– HistÃ³ria</h3>
              <p>{{ selectedPet.historia }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pet-modal-actions">
        <button class="button-primary" (click)="adoptPet(selectedPet)">
          â¤ï¸ Quero Adotar {{ selectedPet.nome }}
        </button>
        <button class="button-secondary" (click)="closePetModal()">
          âŒ Fechar
        </button>
      </div>
    </div>
  </div>
</div>
