<!-- ===== PAINEL VOLUNTÃRIO - ADOÃ‡ÃƒO TERAPÃŠUTICA ===== -->
<div class="painel-voluntario container">
  <header class="painel-header">
    <h1>ğŸ¤ AdoÃ§Ã£o TerapÃªutica</h1>
    <p>Encontre seu companheiro terapÃªutico</p>
  </header>

  <!-- ===== MATCHING TERAPÃŠUTICO ===== -->
  <section class="matching-section">
    <div class="matching-card">
      <h2>ğŸ¯ Encontre Seu Pet TerapÃªutico</h2>
      <p class="matching-description">
        Baseado na sua situaÃ§Ã£o emocional, encontramos pets com os melhores benefÃ­cios terapÃªuticos.
      </p>

      <form [formGroup]="matchingForm" (ngSubmit)="onMatchSubmit()" class="matching-form">
        <!-- SituaÃ§Ã£o Emocional -->
        <div class="form-group">
          <label class="form-label">Como vocÃª estÃ¡ se sentindo? ğŸ˜Š</label>
          <select formControlName="situacao" class="form-select">
            <option value="">Selecione sua situaÃ§Ã£o...</option>
            <option value="depressao">Lutando com depressÃ£o/inÃ©rcia</option>
            <option value="ansiedade">Ansiedade elevada/stress</option>
            <option value="solidao">Sentindo-me sozinho(isolamento)</option>
            <option value="mudanca">Passando por mudanÃ§a dolorosa</option>
            <option value="terapia">Buscando apoio terapÃªutico geral</option>
          </select>
        </div>

        <!-- Energia DisponÃ­vel -->
        <div class="form-group">
          <label class="form-label">Quanto tempo vocÃª dedica? â°</label>
          <select formControlName="energia" class="form-select">
            <option value="">NÃ­vel de energia desejado...</option>
            <option value="codmo-caseiro">Pequeno esforÃ§o (animal calmo)</option>
            <option value="moderado">EsforÃ§o mÃ©dio (animal ativo)</option>
            <option value="ativo-aventurado">Alto esforÃ§o (animal muito ativo)</option>
          </select>
        </div>

        <!-- Disponibilidade HorÃ¡ria -->
        <div class="form-group">
          <label class="form-label">Sua disponibilidade diÃ¡ria? ğŸ“…</label>
          <div class="checkbox-grid">
            <label class="checkbox-item" *ngFor="let opcao of disponibilidadeOptions">
              <input type="checkbox" [value]="opcao.value"
                     [formControlName]="opcao.value">
              <span class="checkmark">{{opcao.emoji}}</span>
              <span>{{opcao.label}}</span>
            </label>
          </div>
        </div>

        <!-- BotÃ£o Matching -->
        <div class="form-actions">
          <button type="submit" [disabled]="matchingForm.invalid || isMatching"
                  class="btn-primary match-btn">
            <span *ngIf="isMatching" class="spinner">ğŸ”„</span>
            {{ isMatching ? 'Analisando compatibilidade...' : 'ğŸ” Encontre Meu Pet' }}
          </button>
        </div>
      </form>
    </div>
  </section>

  <!-- ===== RESULTADOS MÃ¡x MATCH ===== -->
  <section class="results-section" *ngIf="showResults">
    <div class="results-header">
      <h2>ğŸ’š Pets CompatÃ­veis Encontrados</h2>
      <p class="results-subtitle">{{ matchedPets.length }} pets ideias para sua situaÃ§Ã£o terapÃªutica</p>
    </div>

    <!-- Lista de Pets Matched -->
    <div class="pets-matched-grid">
      <div class="pet-match-card" *ngFor="let pet of matchedPets">
        <div class="pet-match-image">
          <img [src]="pet.foto" [alt]="pet.nome" class="pet-img">
          <div class="pet-status-badge" [ngClass]="getTherapyBadge(pet)">
            {{ getTherapyLabel(pet) }}
          </div>
        </div>

        <div class="pet-match-content">
          <div class="pet-match-header">
            <h3>{{ pet.nome }}</h3>
            <div class="pet-species">{{ pet.especie | titlecase }} â€¢ {{ pet.raca }}</div>
          </div>

          <div class="pet-benefits">
            <span class="benefit-chip">{{ pet.beneficioEmocional }}</span>
          </div>

          <div class="compatibility-scores">
            <div class="score-item" *ngFor="let score of getTopScores(pet)">
              <span class="score-label">{{ score.label }}</span>
              <div class="score-bar">
                <div class="score-fill" [style.width.%]="score.value"></div>
              </div>
              <span class="score-value">{{ score.value }}%</span>
            </div>
          </div>

          <p class="pet-description" [innerHTML]="pet.personalidade | slice:0:120"></p>

          <div class="pet-actions">
            <button class="btn-secondary" (click)="openPetDetails(pet)">
              ğŸ“‹ Ver Detalhes
            </button>
            <button class="btn-primary" (click)="requestAdoption(pet)">
              â¤ï¸ Solicitar AdoÃ§Ã£o
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Mostrar mais resultados -->
    <div class="show-more" *ngIf="hasMoreResults">
      <button class="btn-outline" (click)="showMoreResults()">
        ğŸ“ˆ Mostrar Todos os Resultados
      </button>
    </div>
  </section>

  <!-- ===== ESTATÃSTICAS TERAPÃŠUTICAS ===== -->
  <section class="stats-section">
    <h2>ğŸ“Š Impacto TerapÃªutico</h2>
    <div class="impact-stats">
      <div class="impact-card">
        <div class="impact-icon">ğŸ•â€ğŸ¦º</div>
        <div class="impact-content">
          <div class="impact-number">10+</div>
          <div class="impact-label">Pets DisponÃ­veis</div>
        </div>
      </div>

      <div class="impact-card">
        <div class="impact-icon">ğŸ’™</div>
        <div class="impact-content">
          <div class="impact-number">85%</div>
          <div class="impact-label">SatisfaÃ§Ã£o UsuÃ¡rios</div>
        </div>
      </div>

      <div class="impact-card">
        <div class="impact-icon">ğŸ†</div>
        <div class="impact-content">
          <div class="impact-number">500+</div>
          <div class="impact-label">Vidas Transformadas</div>
        </div>
      </div>
    </div>
  </section>

</div>

<!-- ===== MODAL DETALHES PET TERAPÃŠUTICO ===== -->
<div class="pet-modal-overlay" *ngIf="showPetModal && selectedPet" (click)="closePetModal()">
  <div class="pet-modal" (click)="$event.stopPropagation()">
    <div class="modal-header-pet">
      <h2>{{ selectedPet.nome }} - Terapeuta Emocional</h2>
      <button class="modal-close" (click)="closePetModal()">&times;</button>
    </div>

    <div class="modal-body-pet">
      <div class="pet-gallery">
        <img [src]="selectedPet.foto" [alt]="selectedPet.nome" class="pet-main-image">
      </div>

      <div class="pet-details-grid">
        <div class="pet-info-terapy">
          <h3>ğŸ¾ InformaÃ§Ãµes BÃ¡sicas</h3>
          <ul>
            <li><strong>EspÃ©cie:</strong> {{ selectedPet.especie | titlecase }}</li>
            <li><strong>RaÃ§a:</strong> {{ selectedPet.raca }}</li>
            <li><strong>Idade:</strong> {{ getFormattedAge(selectedPet.idade) }}</li>
            <li><strong>Porte:</strong> {{ selectedPet.porte | titlecase }}</li>
            <li><strong>Energia:</strong> {{ selectedPet.energia | titlecase }}</li>
          </ul>
        </div>

        <div class="pet-therapy-profile">
          <h3>ğŸ’™ Perfil TerapÃªutico</h3>
          <div class="therapy-score">
            <div class="score-category">
              <span>DepressÃ£o</span>
              <div class="score-progress">
                <div class="progress-bar" [style.width.%]="selectedPet.compatibilidadeScore.depressao"></div>
                <span class="progress-text">{{ selectedPet.compatibilidadeScore.depressao }}%</span>
              </div>
            </div>
            <div class="score-category">
              <span>Ansiedade</span>
              <div class="score-progress">
                <div class="progress-bar" [style.width.%]="selectedPet.compatibilidadeScore.ansiedade"></div>
                <span class="progress-text">{{ selectedPet.compatibilidadeScore.ansiedade }}%</span>
              </div>
            </div>
            <div class="score-category">
              <span>SolidÃ£o</span>
              <div class="score-progress">
                <div class="progress-bar" [style.width.%]="selectedPet.compatibilidadeScore.solidao"></div>
                <span class="progress-text">{{ selectedPet.compatibilidadeScore.solidao }}%</span>
              </div>
            </div>
          </div>
        </div>

        <div class="pet-health-care">
          <h3>ğŸŒŸ SaÃºde e Cuidados</h3>
          <p><strong>SaÃºde:</strong> {{ selectedPet.saude }}</p>
          <p><strong>Cuidados Especiais:</strong> {{ selectedPet.cuidados }}</p>
          <p><strong>Casa Ideal:</strong> {{ selectedPet.casaIdeal }}</p>
        </div>

        <div class="pet-characteristics">
          <h3>âœ¨ Personalidade e BenefÃ­cios</h3>
          <p>{{ selectedPet.personalidade }}</p>
          <div class="benefit-badge">
            {{ selectedPet.beneficioEmocional }}
          </div>
        </div>
      </div>
    </div>

    <div class="modal-actions-pet">
      <button class="btn-primary" (click)="requestAdoption(selectedPet)">
        â¤ï¸ Solicitar AdoÃ§Ã£o TerapÃªutica
      </button>
    </div>
  </div>
</div>
