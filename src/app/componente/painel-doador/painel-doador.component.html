<!-- ===== PAINEL DOADOR CABEÃ‡ALHO ===== -->
<div class="painel-doadores container">
  <header class="painel-header">
    <h1>ğŸ¾ Meu Painel Doador</h1>
    <p>Gerencie seus pets cadastrados e acompanhe adoÃ§Ãµes</p>
  </header>

  <!-- ===== ESTATÃSTICAS RÃPIDAS ===== -->
  <section class="stats-section" *ngIf="meusPets.length > 0">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“Š</div>
        <div class="stat-content">
          <div class="stat-number">{{ getEstatisticas().totalPets }}</div>
          <div class="stat-label">Pets Cadastrados</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ’š</div>
        <div class="stat-content">
          <div class="stat-number">{{ getEstatisticas().petsDisponiveis }}</div>
          <div class="stat-label">DisponÃ­veis</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">â¤ï¸</div>
        <div class="stat-content">
          <div class="stat-number">{{ getEstatisticas().petsAdotados }}</div>
          <div class="stat-label">Adotados</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-content">
          <div class="stat-number">{{ getEstatisticas().totalInteressados }}</div>
          <div class="stat-label">Interessados</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== SEÃ‡ÃƒO PRINCIPAL ===== -->
  <main class="painel-main">

    <!-- AÃ‡Ã•ES RÃPIDAS -->
    <section class="actions-section">
      <button class="btn-primary" (click)="adicionarNovoPet()">
        ğŸ¶ Adicionar Novo Pet
      </button>
    </section>

    <!-- LISTA DE PETS -->
    <section class="pets-section">
      <div class="section-header">
        <h2>Meus Pets Cadastrados</h2>
      </div>

      <!-- Estado vazio -->
      <div class="empty-state" *ngIf="meusPets.length === 0">
        <div class="empty-icon">ğŸ•â€ğŸ¦º</div>
        <h3>Ainda nÃ£o hÃ¡ pets cadastrados</h3>
        <p>Cadastre seu primeiro companheiro terapÃªutico!</p>
        <button class="btn-primary" (click)="adicionarNovoPet()">
          ğŸ“ Cadastrar Primeiro Pet
        </button>
      </div>

      <!-- Lista de pets -->
      <div class="pets-grid" *ngIf="meusPets.length > 0">
        <div class="pet-card" *ngFor="let pet of meusPets">
          <div class="pet-header">
            <img [src]="pet.foto_url || '/img/THUNDERPETS (4) (1).png'" [alt]="pet.nome" class="pet-image">
            <div class="pet-status-badge" [ngClass]="getStatusBadge(pet.status).class">
              {{ getStatusBadge(pet.status).text }}
            </div>
          </div>

          <div class="pet-content">
            <h3>{{ pet.nome }}</h3>
            <div class="pet-details">
              <span>{{ pet.especie }} â€¢ {{ pet.raca }}</span>
              <span>{{ pet.porte }} â€¢ {{ pet.energia }}</span>
              <span>Cadastrado: {{ formatarData(pet.dataCadastro) }}</span>
            </div>
            <p class="pet-description">{{ pet.descricao | slice:0:100 }}...</p>
          </div>

          <div class="pet-actions" *ngIf="pet.status === 'disponivel'">
            <button class="btn-secondary" (click)="verInteressados(pet)" *ngIf="pet.interessantes && pet.interessantes > 0">
              ğŸ‘¥ Ver Interessados
            </button>
            <button class="btn-outline" (click)="editarPet(pet)">
              âœï¸ Editar
            </button>
            <!-- BotÃ£o removido: sÃ³ mediadores podem marcar como adotado -->
          </div>
        </div>
      </div>
    </section>

  </main>
</div>

<!-- ===== MODAL DE INTERESSADOS ===== -->
<div class="modal-overlay" *ngIf="showInteressados && selectedPet" (click)="fecharModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>ğŸ‘¥ Interessados em {{ selectedPet.nome }}</h2>
      <button class="modal-close" (click)="fecharModal()">&times;</button>
    </div>

    <div class="modal-body">
      <div class="interessados-list" *ngIf="interessados.length > 0">
        <div class="interessado-card" *ngFor="let interessado of interessados">
          <div class="interessado-header">
            <div class="interessado-avatar">
              {{ interessado.nome.charAt(0).toUpperCase() }}
            </div>
            <div class="interessado-info">
              <h4>{{ interessado.nome }}</h4>
              <span class="interesse-date">
                Interesse em: {{ formatarData(interessado.dataInteresse) }}
              </span>
            </div>
          </div>
          <div class="interessado-contato">
            <p><strong>Email:</strong> <a [href]="'mailto:' + interessado.email">{{ interessado.email }}</a></p>
            <p><strong>Telefone:</strong> <a [href]="'https://wa.me/' + formatarTelefone(interessado.telefone)">{{ interessado.telefone }}</a></p>
          </div>
        </div>
      </div>

      <div class="empty-interessados" *ngIf="interessados.length === 0">
        <div class="empty-icon">ğŸ˜´</div>
        <h3>Nenhum interessado ainda</h3>
        <p>Quando pessoas demonstrarem interesse, aparecerÃ£o aqui.</p>
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn-primary" (click)="fecharModal()">
        Entendi
      </button>
    </div>
  </div>
</div>
